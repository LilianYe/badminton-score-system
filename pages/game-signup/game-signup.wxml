<view class="container">
  <!-- Header Section -->
  <view class="header-section">
    <view class="header-left">
      <view class="header-title">æ´»åŠ¨åˆ—è¡¨</view>
    </view>
    <view class="header-right">
      <view class="header-action help-btn" bindtap="navigateToHelp">
        <text class="help-text">ä½¿ç”¨æŒ‡å—</text>
      </view>
      <view class="header-action" bindtap="showAddGameModal">
        <text class="add-game-btn">+ æ–°å»ºæ´»åŠ¨</text>
      </view>
    </view>
  </view>
  
  <!-- Game List Section -->
  <view class="content-section">
    <view wx:if="{{games.length === 0}}" class="empty-container">
      <image src="/assets/icons/game.png" mode="aspectFit"></image>
      <text class="empty-state-text">æš‚æ— æ´»åŠ¨ï¼Œç‚¹å‡»å³ä¸Šè§’åˆ›å»ºæ–°æ´»åŠ¨</text>
      <view class="help-tip" bindtap="navigateToHelp">
        <text class="help-tip-text">ğŸ“– æŸ¥çœ‹ä½¿ç”¨æŒ‡å—</text>
      </view>
    </view>
    
    <scroll-view wx:else scroll-y="true" class="game-list">
      <view 
        class="game-card" 
        wx:for="{{games}}" 
        wx:key="id" 
        bindtap="selectGame" 
        data-index="{{index}}"
        hover-class="game-card-hover"
      >
        <view class="game-header">
          <view class="game-title">{{item.title}}</view>
          <view class="game-status {{item.status}}">{{item.status}}</view>
        </view>
        
        <view class="game-info-row">
          <view class="game-info-icon">æ—¥</view>
          <view class="game-info-text">{{item.date}}</view>
        </view>
        
        <view class="game-info-row">
          <view class="game-info-icon">æ—¶</view>
          <view class="game-info-text">{{item.startTime}}-{{item.endTime}}</view>
        </view>
        
        <view class="game-info-row">
          <view class="game-info-icon">åœ°</view>
          <view class="game-info-text">{{item.location}}</view>
        </view>
        
        <view class="game-footer">
          <view class="game-players">å·²æŠ¥å: {{item.players.length}}/{{item.maxPlayers}}</view>
          <view class="game-courts">åœºåœ°æ•°: {{item.courtCount}}</view>
        </view>
      </view>
    </scroll-view>
  </view>
  
  <!-- Add Game Modal -->
  <view class="modal" wx:if="{{showAddGameModal}}">
    <view class="modal-mask" bindtap="hideAddGameModal"></view>
    <view class="modal-content game-modal">
      <view class="modal-header">åˆ›å»ºæ–°æ´»åŠ¨</view>
      <view class="modal-body">
        <scroll-view scroll-y="true" style="max-height: 600rpx;">
          <view class="form-group">
            <label>æ´»åŠ¨åç§°</label>
            <input type="text" placeholder="è¾“å…¥æ´»åŠ¨åç§°" bindinput="onNewGameInput" data-field="title" value="{{newGame.title}}"/>
          </view>
          
          <view class="form-group">
            <label>æ—¥æœŸ</label>
            <picker mode="date" value="{{newGame.date}}" bindchange="onDateChange">
              <view class="picker {{newGame.date ? '' : 'placeholder'}}">
                {{newGame.date || 'é€‰æ‹©æ—¥æœŸ'}}
              </view>
            </picker>
          </view>
          <view class="form-group">
            <label>å¼€å§‹æ—¶é—´</label>
            <picker mode="time" value="{{newGame.startTime}}" bindchange="onStartTimeChange">
              <view class="picker {{newGame.startTime ? '' : 'placeholder'}}">
                {{newGame.startTime || 'é€‰æ‹©å¼€å§‹æ—¶é—´'}}
              </view>
            </picker>
          </view>
          
          <view class="form-group">
            <label>ç»“æŸæ—¶é—´</label>
            <picker mode="time" value="{{newGame.endTime}}" bindchange="onEndTimeChange">
              <view class="picker {{newGame.endTime ? '' : 'placeholder'}}">
                {{newGame.endTime || 'é€‰æ‹©ç»“æŸæ—¶é—´'}}
              </view>
            </picker>
          </view>
          
          <view class="form-group">
            <label>åœ°ç‚¹</label>
            <input type="text" placeholder="è¾“å…¥æ´»åŠ¨åœ°ç‚¹" bindinput="onNewGameInput" data-field="location" value="{{newGame.location}}"/>
          </view>
          
          <view class="form-group">
            <label>æœ€å¤§äººæ•°</label>
            <slider min="2" max="50" step="1" value="{{newGame.maxPlayers}}" show-value bindchange="onMaxPlayersChange"></slider>
          </view>
          
          <view class="form-group">
            <label>åœºåœ°æ•°é‡</label>
            <slider min="1" max="10" step="1" value="{{newGame.courtCount}}" show-value bindchange="onCourtCountChange"></slider>
          </view>
          
          <view class="form-group">
            <label>æ¯”èµ›è§„åˆ™</label>
            <textarea placeholder="è¾“å…¥æ¯”èµ›è§„åˆ™" bindinput="onNewGameInput" data-field="rules" value="{{newGame.rules}}"/>
          </view>
        </scroll-view>
        
        <view class="modal-actions">
          <button bindtap="hideAddGameModal">å–æ¶ˆ</button>
          <button type="primary" bindtap="addNewGame">åˆ›å»º</button>
        </view>
      </view>
    </view>
  </view>
</view>
