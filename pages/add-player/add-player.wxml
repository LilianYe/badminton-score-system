<view class="container">
  <view class="form">
    <view class="form-title">Add New Player</view>
    
    <view class="player-count-info">
      <text class="count-text">Current players: {{players.length}}</text>
      <text class="count-hint" wx:if="{{players.length < 4}}">Need at least 4 players for a game</text>
    </view>
    
    <view class="form-group">
      <text class="label">Player Name:</text>
      <input class="input" placeholder="Enter player name" value="{{name}}" bindinput="onNameInput" />
    </view>
    
    <!-- Gender selection with logic moved to JS -->
    <view class="form-group">
      <text class="label">Gender:</text>
      <view class="gender-selector">
        <picker bindchange="onGenderChange" value="{{genderIndex}}" range="{{['Male', 'Female']}}">
          <view class="{{genderPickerClass}}">
            <text>{{genderDisplayText}}</text>
            <view class="picker-arrow"></view>
          </view>
        </picker>
      </view>
    </view>
    
    <view class="form-group">
      <text class="note">New players start with {{defaultElo}} ELO points</text>
    </view>
    
    <view class="form-actions">
      <button bindtap="cancel" class="btn cancel">Cancel</button>
      <button bindtap="savePlayer" class="btn save" type="primary" loading="{{isLoading}}">Add Player</button>
    </view>
    
    <view wx:if="{{players.length >= 4}}" class="ready-message">
      <text>You have enough players for a game!</text>
      <button bindtap="goToNewGame" type="primary" class="ready-btn">Start New Game</button>
    </view>
  </view>
</view>